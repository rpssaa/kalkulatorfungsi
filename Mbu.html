<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulator Fungsi</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family: 'Poppins', sans-serif;
}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg,#ff1e1e,#ff4b4b);
}

.card{
    width:380px;
    padding:30px;
    border-radius:25px;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(15px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    color:white;
    animation: fadeIn 1s ease;
}

h1{
    text-align:center;
    margin-bottom:20px;
    font-size:22px;
}

label{
    font-weight:600;
    font-size:14px;
}

select,input{
    width:100%;
    padding:14px;
    margin:8px 0 15px;
    border:none;
    border-radius:15px;
    outline:none;
    background: rgba(255,255,255,0.3);
    color:white;
    font-size:15px;
    transition:0.3s;
}

select:focus,input:focus{
    background: rgba(255,255,255,0.5);
    transform: scale(1.03);
}

button{
    width:100%;
    padding:14px;
    border:none;
    border-radius:20px;
    background:white;
    color:#ff1e1e;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
    font-size:16px;
}

button:hover{
    transform: translateY(-3px);
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
}

.result{
    margin-top:20px;
    padding:15px;
    border-radius:15px;
    background: rgba(0,0,0,0.3);
    font-size:14px;
    max-height:200px;
    overflow:auto;
    animation: slideUp 0.5s ease;
}

@keyframes fadeIn{
    from{opacity:0; transform:scale(0.9);}
    to{opacity:1; transform:scale(1);}
}

@keyframes slideUp{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}
</style>
</head>

<body>

<div class="card">
    <h1>KALKULATOR FUNGSI<br>PENAWARAN & PERMINTAAN</h1>

    <label>Pilih Bentuk Fungsi</label>
    <select id="mode">
        <option value="P">P = aQ + b</option>
        <option value="Q">Q = aP + b</option>
    </select>

    <input type="number" id="p1" placeholder="P1">
    <input type="number" id="q1" placeholder="Q1">
    <input type="number" id="p2" placeholder="P2">
    <input type="number" id="q2" placeholder="Q2">

    <button onclick="hitung()">Hitung</button>

    <div class="result" id="hasil" style="display:none;"></div>
</div>

<script>
function hitung(){

    let p1 = parseFloat(document.getElementById("p1").value);
    let q1 = parseFloat(document.getElementById("q1").value);
    let p2 = parseFloat(document.getElementById("p2").value);
    let q2 = parseFloat(document.getElementById("q2").value);
    let mode = document.getElementById("mode").value;
    let hasil = document.getElementById("hasil");

    if(isNaN(p1)||isNaN(q1)||isNaN(p2)||isNaN(q2)){
        hasil.style.display="block";
        hasil.innerHTML="⚠️ Isi semua data terlebih dahulu!";
        return;
    }

    let output = "<b>Langkah:</b><br><br>";

    if(mode==="Q"){
        let a = (q2-q1)/(p2-p1);
        let b = q1 - (a*p1);

        output += `
        a = (Q2 - Q1) / (P2 - P1)<br>
        a = (${q2}-${q1}) / (${p2}-${p1})<br>
        a = ${a.toFixed(4)}<br><br>

        b = Q1 - (a × P1)<br>
        b = ${q1} - (${a.toFixed(4)} × ${p1})<br>
        b = ${b.toFixed(4)}<br><br>

        <b>Fungsi Akhir:</b><br>
        Q = ${a.toFixed(4)}P + ${b.toFixed(4)}
        `;
    }else{
        let a = (p2-p1)/(q2-q1);
        let b = p1 - (a*q1);

        output += `
        a = (P2 - P1) / (Q2 - Q1)<br>
        a = (${p2}-${p1}) / (${q2}-${q1})<br>
        a = ${a.toFixed(4)}<br><br>

        b = P1 - (a × Q1)<br>
        b = ${p1} - (${a.toFixed(4)} × ${q1})<br>
        b = ${b.toFixed(4)}<br><br>

        <b>Fungsi Akhir:</b><br>
        P = ${a.toFixed(4)}Q + ${b.toFixed(4)}
        `;
    }

    hasil.style.display="block";
    hasil.innerHTML=output;
}
</script>

</body>
</html>